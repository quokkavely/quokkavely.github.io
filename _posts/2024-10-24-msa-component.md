---
layout : single
title : "[MSA] chapter 1.6_SOA vs MSA"
categories: 
tag : [MSA, SpringCloud]
author_profile: true
---

📌 개인적인 공간으로 공부를 기록하고 복습하기 위해 사용하는 블로그입니다. <br>
정확하지 않은 정보가 있을 수 있으니 참고바랍니다 :😸 <br>
[틀린 내용은 댓글로 남겨주시면 복받으실거에요]  
{: .notice--primary}

인프런 Dowon Lee님의 Spring Cloud로 개발하는 마이크로서비스 애플리케이션(MSA) 강의를 듣고 정리한 필기입니다.😊<br>
[Spring Cloud로 개발하는 마이크로서비스 애플리케이션(MSA) 강의 들으러 가기👩‍🏫](https://inf.run/GHeRm)
{: .notice--warning}

## MSA 표준 구성요소와 주요 기술

- 마이크로서비스 아키텍처(MSA)는 독립적으로 배포되고 확장될 수 있는 작은 서비스들이 모여 하나의 큰 애플리케이션을 구성하는 아키텍처이고,
- 이 아키텍처는 서비스 간 결합도를 최소화하고 유연성을 높이기 위해 다양한 도구와 시스템을 결합하여 효율적인 구성을 지원한다.

### 1. MSA 기본 구조 및 구성 요소

<img src =”https://github.com/user-attachments/assets/8677f513-6654-4f9d-92a3-787a5caf78cb” width =500/>

- **API 게이트웨이**
    - 클라이언트 요청을 수집하여 적절한 서비스로 라우팅하는 진입점 역할
    - API Gateway는 클라이언트가 마이크로서비스에 쉽게 접근하도록 하며, 서비스 위치를 관리하는 서비스 디스커버리와 통신한다.
- **서비스 디스커버리**
    - 각 마이크로서비스의 위치를 저장하고 검색하는 기능으로,
    - API 게이트웨이 및 라우터가 필요할 때 서비스를 찾을 수 있도록 지원한다.
- **로드 밸런서**
    - 여러 인스턴스의 마이크로서비스가 있을 경우, 트래픽을 균등하게 분배하여 서버의 과부하를 방지한다.
- **환경 설정 관리**
    - 각 서비스가 외부 시스템에 환경 설정을 저장하고 필요한 구성 정보를 읽어오도록 한다.
- **컨테이너 기반 가상화**
    - Docker와 같은 컨테이너 가상화 기술을 통해 마이크로서비스를 개별적으로 배포하고 관리한다.
- **메시징 시스템**
    - 서비스 간 비동기 통신을 지원해 데이터를 주고받을 수 있도록 한다.
- **백킹 서비스**
    - 각 서비스의 데이터 저장소를 모아 관리할 수 있도록 하는 구성으로, NoSQL, RDBMS 등 다양한 데이터베이스가 사용된다.
- **모니터링과 진단**
    - Telemetry 기능을 통해 각 서비스의 상태를 모니터링하고 성능을 진단한다.

---

### 2. 서비스 메쉬 (Service Mesh)

<img src="https://github.com/user-attachments/assets/26822c5a-e75b-4790-a4df-2eeaa60b6c0f" width =500/>

- MSA 인프라에서 미들웨어 역할을 함
- 서비스 메쉬는 서비스 간의 통신을 관리하는 추상화된 네트워크 레이어이다.
- 내부 서비스 간 안전하고 신뢰성 있는 통신을 보장하고, **라우팅**, **로드 밸런싱**, **인증** 등 다양한 기능을 제공하여 안정성과 가시성을 높여준다.
- Istio와 Envoy 같은 기술이 대표적
- 서비스 메쉬의 주요 기능:
    - **통신 제어 및 보안**: URI, API 버전, 인증 등을 통해 서비스 간 통신을 제어한다.
    - **부하 분산 및 장애 격리**: 서비스 간 트래픽을 분산하고 장애가 발생했을 때 최소한의 영향으로 서비스 우회를 지원한다.
    - **추적 및 모니터링**: 통신 경로와 트래픽 흐름을 시각화하여 분석하고 관리할 수 있다.

---

### 3. MSA를 지원하는 주요 기술 스택

<img src="https://github.com/user-attachments/assets/7a63a5cf-0b13-4ad9-9737-df909b2b2b14" width =500/>

1. 게이트웨이
    - **Nginx**, **Kong**: 클라이언트 요청을 라우팅하고 API 게이트웨이 역할을 한다.
    - **Netflix OSS Zuul**: 스프링 클라우드와 통합되어 API 게이트웨이 기능을 수행한다.
2. 서비스 메쉬
    - **Istio**, **Envoy**: 탄력적인 서비스 메쉬 기능을 제공하여 내부 서비스 통신을 관리한다.
3. 런타임 환경
    - **Docker**: 서비스 컨테이너화로 가상 환경에서 격리된 서비스 배포가 가능하다.
    - **Kubernetes**: 컨테이너 오케스트레이션을 통해 서비스 배포와 확장을 관리한다.
4. 프레임워크
    - **Spring Boot**와 **Spring Cloud**: 마이크로서비스를 개발하는 데 자주 사용되며, 여러 기능을 프레임워크 내에서 쉽게 구현할 수 있도록 지원한다.
5. 데이터베이스와 메시징
    - **Kafka**, **Redis**, **MongoDB**: 메시징 시스템과 백킹 서비스에서 각각 활용되며, 데이터베이스는 NoSQL 등 다양한 기술을 통해 최적화된다.
6. 자동화 도구
    - **Gradle**과 **Maven**: 코드 빌드와 패키징을 관리한다.
    - **Jenkins**: CI/CD 파이프라인 구축을 통해 지속적 통합과 배포를 지원한다.
7. 모니터링 도구
    - **ELK Stack**: Elasticsearch, Logstash, Kibana로 구성된 스택으로, 로그 데이터를 수집하고 분석하여 서비스 상태를 시각화한다.
    - **DataDog**: 서비스 모니터링 및 성능 관리를 위한 유료 솔루션으로 다수의 마이크로서비스를 효율적으로 관리할 수 있다.

---

### 요약 🔗

MSA는 여러 개의 독립적인 서비스가 결합되어 유연하고 확장 가능한 시스템을 구성하는 방식이며

API Gateway, 서비스 메쉬, Docker와 Kubernetes 등의 다양한 도구를 통해 서비스의 결합도를 최소화하고, 모니터링과 CI/CD 자동화 도구를 통해 안정적이고 효율적인 운영을 지원한다.

<br>
<br>
<br>
<br>
<br>
