---
layout : single
title : "[λ””μμΈν¨ν„΄] DIμ™€ DIP"
categories: DesignPattern
tag : [CS, DesignPattern]
author_profile: true
---

π“ κ°μΈμ μΈ κ³µκ°„μΌλ΅ κ³µλ¶€λ¥Ό κΈ°λ΅ν•κ³  λ³µμµν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” λΈ”λ΅κ·Έμ…λ‹λ‹¤. <br>
μ •ν™•ν•μ§€ μ•μ€ μ •λ³΄κ°€ μμ„ μ μμΌλ‹ μ°Έκ³ λ°”λλ‹λ‹¤ :πΈ <br>
[ν‹€λ¦° λ‚΄μ©μ€ λ“κΈ€λ΅ λ‚¨κ²¨μ£Όμ‹λ©΄ λ³µλ°›μΌμ‹¤κ±°μ—μ”]  
{: .notice--primary}

# **DIμ™€ DIP**

## **1. λΉ„μ λ¥Ό ν†µν• DIμ™€ DIP μ΄ν•΄**

### **μμ΅΄μ„± (Dependency)μ΄λ€?**

- **λΉ„μ **: μ»¤ν”Ό λ¨Έμ‹ μ΄ νΉμ • λΈλλ“μ μ»¤ν”Όμ½©λ§ μ‚¬μ©ν•  μ μλ‹¤λ©΄ μ–΄λ–»κ² λ κΉ?β†’ μ»¤ν”Όμ½© λΈλλ“κ°€ λ°”λ€λ©΄ μ»¤ν”Ό λ¨Έμ‹ λ„ λ°”κΏ”μ•Ό ν•λ‹¤.

**ν•΄κ²°μ±…**: μ»¤ν”Ό λ¨Έμ‹ μ΄ "μ»¤ν”Όμ½©" μΈν„°νμ΄μ¤λ§ μ”κµ¬ν•λ„λ΅ λ§λ“¤κ³ , μ–΄λ–¤ μ»¤ν”Όμ½©λ„ μ—°κ²°ν•  μ μκ² ν•λ©΄ μ»¤ν”Όμ½©μ„ μ‰½κ² κµμ²΄ν•  μ μλ‹¤.

### **DI (Dependency Injection, μμ΅΄μ„± μ£Όμ…)**

- **λΉ„μ **: μ»¤ν”Ό λ¨Έμ‹ μ— μ»¤ν”Όμ½©μ„ μ§μ ‘ λ„£μ§€ μ•κ³ , μ™Έλ¶€μ—μ„ μ»¤ν”Όμ½©μ„ μ£Όμ…ν•΄μ£Όλ” λ°©μ‹.

μ¦‰, **μμ΅΄ κ°μ²΄λ¥Ό μ™Έλ¶€μ—μ„ μ κ³µ**ν•΄μ¤μΌλ΅μ¨ μ»¤ν”Ό λ¨Έμ‹ μ€ μ»¤ν”Όμ½©μ μ„Έλ¶€μ‚¬ν•­μ— λ€ν•΄ μ• ν•„μ”κ°€ μ—†λ‹¤.

### **DIP (Dependency Inversion Principle, μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™)**

- μ»¤ν”Ό λ¨Έμ‹ μ€ **"μ»¤ν”Όμ½©"μ΄λΌλ” μ¶”μƒν™”**μ— μμ΅΄ν•΄μ•Όμ§€, νΉμ • μ»¤ν”Όμ½© λΈλλ“(μ„Έλ¶€ μ‚¬ν•­)μ— μμ΅΄ν•΄μ„λ” μ• λλ‹¤.
- μƒμ„ λ¨λ“(μ»¤ν”Ό λ¨Έμ‹ )μ€ μ¶”μƒν™”(μΈν„°νμ΄μ¤)μ—λ§ μμ΅΄ν•κ³ , μ‹¤μ  μ„Έλ¶€ κµ¬ν„μ€ μ™Έλ¶€μ—μ„ μ£Όμ…ν•λ‹¤.

## **2. μƒλ΅μ΄ μμ : "μ•λ¦Ό μ‹μ¤ν…"**

μ΄λ² μμ λ΅ **DIμ™€ DIPλ¥Ό μ μ©ν•μ—¬ λ‹¤μ–‘ν• μ•λ¦Ό(Notification) μ‹μ¤ν…**μ„ μ μ—°ν•κ² ν™•μ¥ν•λ” λ¨μµμ„ λ³Ό μ μλ‹¤.

### **μ‹λ‚λ¦¬μ¤**

- μ‚¬μ©μκ°€ μ•λ¦Ό(Notification)μ„ λ°›μ„ μ μλ” λ‹¤μ–‘ν• λ°©μ‹:
    1. μ΄λ©”μΌ(E-mail)
    2. λ¬Έμ λ©”μ‹μ§€(SMS)
    3. ν‘Έμ‹ μ•λ¦Ό(Push Notification)
- `NotificationService`λ” μ–΄λ–¤ μ•λ¦Ό λ°©μ‹μ΄λ“  μ‚¬μ©λ  μ μμ–΄μ•Ό ν•κ³ , μƒλ΅μ΄ μ•λ¦Ό λ°©μ‹μ΄ μ¶”κ°€λλ”λΌλ„ λ³€κ²½μ΄ μµμ†ν™”λμ–΄μ•Ό ν•λ‹¤.

## **3. μ½”λ“ μμ **

### **1. μ•λ¦Ό μΈν„°νμ΄μ¤ μ •μ**

μ¶”μƒν™”λ¥Ό ν†µν•΄ `NotificationService`λ” μ•λ¦Όμ μ„Έλ¶€ κµ¬ν„μ„ λ°λΌλ„ λλ‹¤.

```java
// μ¶”μƒν™”: Notification μΈν„°νμ΄μ¤
interface Notification {
    void send(String message);
}
```

### **2. κµ¬μ²΄μ μΈ μ•λ¦Ό λ°©μ‹ κµ¬ν„**

κ°κ°μ μ•λ¦Ό λ°©μ‹μ€ `Notification` μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ‹¤.

```java
// μ΄λ©”μΌ μ•λ¦Ό
class EmailNotification implements Notification {
    @Override
    public void send(String message) {
        System.out.println("μ΄λ©”μΌ μ•λ¦Ό: " + message);
    }
}

// SMS μ•λ¦Ό
class SMSNotification implements Notification {
    @Override
    public void send(String message) {
        System.out.println("SMS μ•λ¦Ό: " + message);
    }
}

// ν‘Έμ‹ μ•λ¦Ό
class PushNotification implements Notification {
    @Override
    public void send(String message) {
        System.out.println("ν‘Έμ‹ μ•λ¦Ό: " + message);
    }
}
```

### **3. NotificationService: DIP μ μ©**

`NotificationService`λ” κµ¬μ²΄μ μΈ μ•λ¦Ό λ°©μ‹μ— μμ΅΄ν•μ§€ μ•κ³ , **Notification μΈν„°νμ΄μ¤**μ— μμ΅΄ν•λ‹¤.

```java
import java.util.List;

class NotificationService {
    private final List<Notification> notifications;

    // μμ΅΄μ„± μ£Όμ…: μ•λ¦Ό κ°μ²΄λ¥Ό μ™Έλ¶€μ—μ„ μ£Όμ…λ°›μ
    public NotificationService(List<Notification> notifications) {
        this.notifications = notifications;
    }

    // λ¨λ“  μ•λ¦Όμ„ μνν•λ©° λ©”μ‹μ§€ μ „μ†΅
    public void notifyUsers(String message) {
        for (Notification notification : notifications) {
            notification.send(message);
        }
    }
}
```

### **4. Main ν΄λμ¤: λ‹¤μ–‘ν• μ•λ¦Ό λ°©μ‹μ„ μ£Όμ…**

μ—¬κΈ°μ„ `Notification` κ°μ²΄λ¥Ό μ™Έλ¶€μ—μ„ μ£Όμ…ν•λ‹¤.

```java
import java.util.ArrayList;
import java.util.List;

public class Main {
    public static void main(String[] args) {
        // μ•λ¦Ό λ°©μ‹μ„ μ¤€λΉ„
        List<Notification> notificationList = new ArrayList<>();
        notificationList.add(new EmailNotification());
        notificationList.add(new SMSNotification());
        notificationList.add(new PushNotification());

        // NotificationServiceμ— μμ΅΄μ„± μ£Όμ…
        NotificationService service = new NotificationService(notificationList);

        // μ•λ¦Ό λ°μ†΅
        service.notifyUsers("μ•λ…•ν•μ„Έμ”! μƒλ΅μ΄ κ³µμ§€κ°€ λ„μ°©ν–μµλ‹λ‹¤.");
    }
}
```

### **5. μ‹¤ν–‰ κ²°κ³Ό**

```
μ΄λ©”μΌ μ•λ¦Ό: μ•λ…•ν•μ„Έμ”! μƒλ΅μ΄ κ³µμ§€κ°€ λ„μ°©ν–μµλ‹λ‹¤.
SMS μ•λ¦Ό: μ•λ…•ν•μ„Έμ”! μƒλ΅μ΄ κ³µμ§€κ°€ λ„μ°©ν–μµλ‹λ‹¤.
ν‘Έμ‹ μ•λ¦Ό: μ•λ…•ν•μ„Έμ”! μƒλ΅μ΄ κ³µμ§€κ°€ λ„μ°©ν–μµλ‹λ‹¤.
```

## **4. DIμ™€ DIPμ μ¥λ‹¨μ **

### **μ¥μ **

1. **μ μ—°μ„±κ³Ό ν™•μ¥μ„±**
    - μƒλ΅μ΄ κΈ°λ¥μ΄ μ¶”κ°€λ  λ• κΈ°μ΅΄ μ½”λ“ μμ •μ΄ μµμ†ν™”λλ‹¤.(μ: μƒλ΅μ΄ μ•λ¦Ό λ°©μ‹ `SlackNotification` μ¶”κ°€ μ‹, `NotificationService`λ” μμ •ν•  ν•„μ”κ°€ μ—†μ)
2. **κ²°ν•©λ„ κ°μ†**
    - μƒμ„ λ¨λ“μ΄ ν•μ„ λ¨λ“μ κµ¬μ²΄μ μΈ κµ¬ν„μ΄ μ•„λ‹ **μ¶”μƒν™”(μΈν„°νμ΄μ¤)**μ— μμ΅΄ν•λ―€λ΅ μ½”λ“ μ¬μ‚¬μ©μ„±μ΄ λ†’μ•„μ§„λ‹¤.
3. **λ‹¨μ„ ν…μ¤νΈ μ©μ΄**
    - ν…μ¤νΈ μ‹ Mock κ°μ²΄λ‚ λ”λ―Έ κ°μ²΄λ¥Ό μ‰½κ² μ£Όμ…ν•  μ μλ‹¤.β†’ ν…μ¤νΈ ν™κ²½κ³Ό μ΄μ ν™κ²½μ—μ„ λ‹¤λ¥Έ κ°μ²΄λ¥Ό μ‚¬μ© κ°€λ¥.
4. **μ½”λ“μ κ°€λ…μ„±κ³Ό μ μ§€λ³΄μμ„± ν–¥μƒ**
    - μμ΅΄μ„±μ΄ λ…ν™•ν•κ² λ“λ¬λ‚λ―€λ΅ μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ΅°λ¥Ό μ‰½κ² μ΄ν•΄ν•  μ μλ‹¤.

### **λ‹¨μ **

1. **μ΄κΈ° μ„¤μ •μ λ³µμ΅λ„**
    - μ¶”μƒν™”(μΈν„°νμ΄μ¤)λ¥Ό μ •μν•κ³  μ™Έλ¶€μ—μ„ μμ΅΄μ„±μ„ μ£Όμ…ν•΄μ•Ό ν•λ―€λ΅ μ½”λ“μ κµ¬μ΅°κ°€ λ³µμ΅ν•΄μ§ μ μλ‹¤.
2. **ν΄λμ¤ μ μ¦κ°€**
    - DIPλ¥Ό μ μ©ν•λ©΄μ„ μΈν„°νμ΄μ¤μ™€ κµ¬ν„ ν΄λμ¤κ°€ λ³„λ„λ΅ ν•„μ”ν•λ―€λ΅ ν΄λμ¤μ μκ°€ λμ–΄λ‚λ‹¤.
3. **λ°νƒ€μ„ μ—λ¬ κ°€λ¥μ„±**
    - μμ΅΄μ„± μ£Όμ…μ΄ λ°νƒ€μ„μ— μ΄λ£¨μ–΄μ§€κΈ° λ•λ¬Έμ— μλ»λ κ°μ²΄κ°€ μ£Όμ…λλ©΄ μ¤λ¥κ°€ λ°μƒν•  μ μλ‹¤.

---
### DIμ™€ DIP μ”μ•½
1. **DI (μμ΅΄μ„± μ£Όμ…)**
    
    κ°μ²΄μ μμ΅΄μ„±μ„ μ™Έλ¶€μ—μ„ μ£Όμ…ν•μ—¬ μ½”λ“ κ°„ κ²°ν•©λ„λ¥Ό λ‚®μ¶λ‹¤.
    
2. **DIP (μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™)**
    - μƒμ„ λ¨λ“(μ•λ¦Ό μ„λΉ„μ¤)μ€ μ¶”μƒν™”(μΈν„°νμ΄μ¤)μ— μμ΅΄ν•κ³ ,ν•μ„ λ¨λ“(μ΄λ©”μΌ, SMS λ“±)μ€ μ¶”μƒν™”λ¥Ό κµ¬ν„ν•λ‹¤.
3. **μƒλ΅μ΄ μ½”λ“ μ‘μ„± νλ¦„**
    - μ•λ¦Ό μΈν„°νμ΄μ¤(`Notification`)λ¥Ό μ¤‘μ‹¬μΌλ΅ μ„¤κ³„.
    - μ•λ¦Ό λ°©μ‹(μ΄λ©”μΌ, SMS λ“±)λ§ μ¶”κ°€λλ©΄ ν™•μ¥μ΄ λλ‚λ‹¤.
4. **μ¥λ‹¨μ **
    - **μ¥μ **
        - μ½”λ“μ μ μ—°μ„±κ³Ό ν™•μ¥μ„± ν–¥μƒ
        - ν…μ¤νΈμ™€ μ μ§€λ³΄μ μ©μ΄
    - **λ‹¨μ **
        - ν΄λμ¤ μ¦κ°€ λ° μ΄κΈ° μ„¤μ •μ λ³µμ΅λ„
        - λ°νƒ€μ„ μμ΅΄μ„± μ¤λ¥ κ°€λ¥μ„±


spring λ“¤μ–΄κ°€λ©΄μ„ DIλ‘ DIP λ” κ³µλ¶€ν–λ κ±°λΌμ„ κ·Έλ ‡κ² μ–΄λ µμ§€ μ•μ•λ”λ° μ΄ μ›μΉ™λ“¤μ΄ λ””μμΈ ν¨ν„΄μ μΌλ¶€λΌλ” κ²ƒμ€ μ΄λ²μ— μ²μ μ•κ² λμ—λ‹¤
CS λ„ λ‚΄κ°€ λ°°μ΄ λ¶€λ¶„μ΄ μκµ¬λ‚ ν•κ³  λ­”κ°€ λΏλ“―ν–λ‹¤.
