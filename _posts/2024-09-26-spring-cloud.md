---
layout : single
title : "[Project] Spring cloud"
categories: Project
tag : [project3, practice]
author_profile: true
---

π“ κ°μΈμ μΈ κ³µκ°„μΌλ΅ κ³µλ¶€λ¥Ό κΈ°λ΅ν•κ³  λ³µμµν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” λΈ”λ΅κ·Έμ…λ‹λ‹¤. <br>
μ •ν™•ν•μ§€ μ•μ€ μ •λ³΄κ°€ μμ„ μ μμΌλ‹ μ°Έκ³ λ°”λλ‹λ‹¤ :πΈ <br>
[ν‹€λ¦° λ‚΄μ©μ€ λ“κΈ€λ΅ λ‚¨κ²¨μ£Όμ‹λ©΄ λ³µλ°›μΌμ‹¤κ±°μ—μ”]  
{: .notice--primary}


---

## Spring Cloudλ€?


μ΄λ²μ— λ‚΄κ°€ μ¤ν”„λ§ ν΄λΌμ°λ“λ¥Ό κ³µλ¶€ν•λ©΄μ„ λλ‚€ μ λ“¤μ„ μ •λ¦¬ν•΄λ΄¤λ‹¤. μ‚¬μ‹¤ μ²μμ—” λ³µμ΅ν•΄ λ³΄μ€λ”λ°, μ°¨κ·Όμ°¨κ·Ό μ •λ¦¬ν•λ‹κΉ μƒκ°λ³΄λ‹¤ κ°λ…μ΄ λ…ν™•ν•΄μ Έμ„ μ •λ¦¬ν•λ©΄μ„ ν• λ² λ” λμƒκΈΈ μ μμ—λ‹¤.π‚π‚

<img src= "https://github.com/user-attachments/assets/154d1663-a6a6-4c75-86ca-4434b71f57bb" width=500/>

μ¤ν”„λ§ ν΄λΌμ°λ“λ” λ§μ΄ν¬λ΅μ„λΉ„μ¤ μ•„ν‚¤ν…μ²(MSA)λ¥Ό κµ¬μ¶•ν•  λ• μ μ©ν• ν΄κ³Ό λΌμ΄λΈλ¬λ¦¬λ“¤μ„ μ κ³µν•΄μ£Όλ” ν”„λ μ„μ›ν¬λ‹¤. μ—¬κΈ°μ„ κ° μ„λΉ„μ¤λ“¤μ€ μ„λ΅ λ…λ¦½μ μΌλ΅ κ°λ°λκ³  λ°°ν¬λμ§€λ§, κ·Έλ“¤ κ°„μ ν†µμ‹ , ν™•μ¥μ„±, μ¥μ•  μ²λ¦¬ λ“±μ„ ν¨κ³Όμ μΌλ΅ κ΄€λ¦¬ν•κΈ° μ„ν•΄ λ‹¤μ–‘ν• κΈ°λ¥λ“¤μ„ μ κ³µν•λ”λ°, λ€ν‘μ μΌλ΅ **μ„λΉ„μ¤ λ””μ¤μ»¤λ²„λ¦¬**, **API Gateway**, **λ¶„μ‚° μ¶”μ ** λ“±μ΄ μλ‹¤.

### 1. **Eureka**: μ „ν™”λ²νΈλ¶€ μ—­ν• μ„ ν•λ” μ»΄ν¬λ„νΈ

**Eureka**λ” μ„λΉ„μ¤ λ””μ¤μ»¤λ²„λ¦¬μ μ¤‘μ‹¬μ΄λΌκ³  λ³΄λ©΄ λλ‹¤. μ‰½κ² λ§ν•λ©΄, κ° μ„λΉ„μ¤κ°€ μ–΄λ””μ— μλ”μ§€ μ•λ ¤μ£Όλ” 'μ „ν™”λ²νΈλ¶€' μ—­ν• μ„ ν•λ” μ»΄ν¬λ„νΈλ‹¤. κ° λ§μ΄ν¬λ΅μ„λΉ„μ¤λ” Eureka μ„λ²„μ— μμ‹ μ„ λ“±λ΅ν•κ³ , λ‹¤λ¥Έ μ„λΉ„μ¤λ“¤μ€ ν•„μ”ν• λ•μ— μ΄ Eureka μ„λ²„μ—μ„ κ·Έ μ„μΉ μ •λ³΄λ¥Ό μ–»λ”λ‹¤. μ΄λ ‡κ² ν•¨μΌλ΅μ¨ μ„λΉ„μ¤ κ°„ ν†µμ‹ μ΄ ν›¨μ”¬ μμ›”ν•΄μ§„λ‹¤.

μ—¬κΈ°μ„ κΈ°μ–µν•΄μ•Ό ν•  κ±΄, κ° μ„λΉ„μ¤κ°€ **Eureka ν΄λΌμ΄μ–ΈνΈ**λ΅ μ„¤μ •λΌ μμΌλ©΄, μ£ΌκΈ°μ μΌλ΅ μμ‹ μ μƒνƒμ™€ μ„μΉ(IP, ν¬νΈ)λ¥Ό **Eureka μ„λ²„**μ— λ“±λ΅ν•κ³  κ°±μ‹ ν•λ‹¤λ” μ μ΄λ‹¤.

---

### 2. **API Gateway**: μ™Έλ¶€ νΈλν”½μ κ΄€λ¬Έ

**API Gateway**λ” μ™Έλ¶€μ—μ„ λ“¤μ–΄μ¤λ” λ¨λ“  νΈλν”½μ μ…κµ¬λ‹¤. ν”ν **North-South νΈλν”½**μ„ μ μ–΄ν•λ‹¤κ³  ν‘ν„ν•λ”λ°, μ΄λ” μ™Έλ¶€μ—μ„ λ‚΄λ¶€λ΅, νΉμ€ λ‚΄λ¶€μ—μ„ μ™Έλ¶€λ΅ κ°€λ” νΈλν”½μ„ λ§ν•λ‹¤. μ΄μ™€ λ°λ€λ΅ μ„λΉ„μ¤ κ°„μ ν†µμ‹ , μ¦‰ **East-West νΈλν”½**μ€ μ£Όλ΅ **μ„λΉ„μ¤ λ©”μ‰¬**κ°€ λ‹΄λ‹Ήν•λ‹¤. μ΄ μ°¨μ΄λ¥Ό μ•κ³  μμΌλ©΄ ν—·κ°λ¦¬μ§€ μ•μ„ μ μλ‹¤.

---

### 3. **API Gatewayμ™€ Service Meshμ κ³µν†µ κΈ°λ¥**

API Gatewayμ™€ μ„λΉ„μ¤ λ©”μ‰¬λ” λ‡ κ°€μ§€ κ³µν†µλ κΈ°λ¥μ„ μ κ³µν•λ‹¤

- Distributed Tracing
- Service Discovery
- Load Balancing
- TLS Termination
- JWT Validation
- Request Routing
- Traffic Splitting
- Canary Deployment
- Traffic Mirroring
- Rate Limiting

μ΄μ²λΌ μ—¬λ¬ κΈ°λ¥μ—μ„ κ²ΉμΉμ§€λ§, κ°κ°μ μ©λ„λ” λ‹¤λ¥΄λ‹κΉ μƒν™©μ— λ§κ² μ„ νƒν•΄μ•Ό ν•λ‹¤.

---

### 4. **API Gatewayλ§μ΄ μ κ³µν•λ” κΈ°λ¥**

1. **Edge Decoupling**
    
    **Edge Decoupling**μ€ μ™Έλ¶€ μ”μ²­κ³Ό λ‚΄λ¶€ API μ‚¬μ΄μ μ™„μ¶© μ—­ν• μ„ ν•λ‹¤κ³  λ³΄λ©΄ λλ‹¤. 
    
    μ—¬κΈ°μ„ API Gatewayκ°€ ν•  μ μλ” μΌμ€ λ‹¤μκ³Ό κ°™λ‹¤:
    
    - **μ”μ²­/μ‘λ‹µ λ³€ν™**
        - μ™Έλ¶€λ΅λ¶€ν„° μ¤λ” μ”μ²­μ„ μμ •ν•΄μ„ λ°±μ—”λ“μ μ„Έλ¶€ μ‚¬ν•­μ„ κ°μ¶ μ μλ‹¤. μλ¥Ό λ“¤μ–΄, ν—¤λ”λ¥Ό μ¶”κ°€ν•κ±°λ‚ μ κ±°ν•κ³ , νμ΄λ΅λ“ λ³€ν™ λ“±μ„ ν•  μ μλ‹¤.
    - **μ• ν”λ¦¬μΌ€μ΄μ… ν”„λ΅ν† μ½ λ³€ν™**
        - XML, JSON κ°™μ€ μ„λ΅ λ‹¤λ¥Έ ν”„λ΅ν† μ½μ„ API Gatewayκ°€ μ•μ•„μ„ λ³€ν™ν•΄μ¤„ μ μλ‹¤.
    - **μ¤λ¥/μ†λ„ μ ν•μ— λ”°λ¥Έ μ‘λ‹µ μ‚¬μ©μ μ§€μ •**
        - νΉμ • μ—λ¬κ°€ λ°μƒν–μ„ λ•λ‚ νΈλν”½μ΄ λ„λ¬΄ λ§μ•„ μ†λ„ μ ν•μ΄ κ±Έλ Έμ„ λ•, κ²μ΄νΈμ›¨μ΄κ°€ μμ²΄μ μΌλ΅ μ‘λ‹µμ„ μ»¤μ¤ν„°λ§μ΄μ§•ν•  μ μλ‹¤.
    - **μ§μ ‘ μ‘λ‹µ**
        - ν΄λΌμ΄μ–ΈνΈκ°€ λΉ„μ •μƒμ μΈ μ”μ²­μ„ ν•  λ•, λ°±μ—”λ“μ— κ°€μ§€ μ•κ³  API Gateway μμ²΄μ—μ„ λ°”λ΅ μ‘λ‹µμ„ μ¤„ μ μλ‹¤.
    - **ν”„λ΅μ‹ νμ΄ν”„λΌμΈ μ μ–΄**
        - μ”μ²­ μ²λ¦¬ μμ„λ¥Ό λ°”κΎΈκ±°λ‚, λ””λ²„κΉ… λ„κµ¬λ¥Ό μ κ³µν•΄μ„ λ³µμ΅ν• λ΅μ§μ„ μ²λ¦¬ν•  μ μλ‹¤.
2. **Request Control** (μ”μ²­ μ μ–΄)
    - API Gatewayλ” ν΄λ¬μ¤ν„°λ΅ λ“¤μ–΄μ¤λ” νΈλν”½μ„ λ‹¨μν ν—μ©ν•λ” κ² μ•„λ‹λΌ, μ–΄λ–¤ λ°μ΄ν„°μ™€ μ”μ²­/μ‘λ‹µμ΄ ν—μ©λλ”μ§€λ¥Ό μ„Έλ°€ν•κ² μ μ–΄ν•λ‹¤.
    - μλ¥Ό λ“¤μ–΄, **SQL Injection**κ³Ό κ°™μ€ κ³µκ²©μ„ λ§‰μ„ μ μλ‹¤. μ΄κ±Έ μ„ν•΄ API Gatewayλ” μ•„ν‚¤ν…μ²μ— λ“¤μ–΄μ¤λ” νΈλν”½μ— λ€ν• κΉμ€ μ΄ν•΄κ°€ ν•„μ”ν•λ‹¤.
3.  **Custom Security/Bridging Trust Domains** 
    - API Gatewayμ κ½ƒμ΄λΌ ν•  μ μλ” κΈ°λ¥ μ¤‘ ν•λ‚κ°€ λ°”λ΅ μ—£μ§€ λ³΄μ•, μ¦‰ μΈμ¦κ³Ό μΈκ°€ κ΄€λ¦¬λ‹¤.
    - μ—¬κΈ°μ„ μ¤‘μ”ν• κ±΄ μΈμ¦(Authentication)κ³Ό μΈκ°€(Authorization)λ¥Ό κµ¬λ¶„ν•λ” κ²ƒ.

<br>
<br>

# Service discovery

β”οΈ  Service discoveryλ” MicroService Architectureμ—μ„ κ°λ³„ μ„λΉ„μ¤κ°€ λ™μ μΌλ΅ μ„μΉν• μ£Όμ†λ‚ ν¬νΈ λ“±μ„ μ°Ύμ„ μ μλ„λ΅ ν•λ” λ§¤μ»¤λ‹μ¦

β”οΈ  λ§μ΄ν¬λ΅μ„λΉ„μ¤μ—μ„λ” κ° μ„λΉ„μ¤κ°€ λ…λ¦½μ μΌλ΅ λ°°ν¬λκ³  ν™•μ¥λκΈ° λ•λ¬Έμ— μ„λΉ„μ¤ κ°„ ν†µμ‹ μ„ μ„ν•΄μ„ μ„λ΅μ μ„μΉλ¥Ό μ•μ•„μ•Ό ν•κ³ , μ΄λ° λ™μ  ν™κ²½μ—μ„ μ„λΉ„μ¤κ°€ μ–΄λ””μ— μ„μΉν•λ”μ§€ μ•κΈ° μ„ν•΄ μ„λΉ„μ¤ λ””μ¤μ»¤λ²„λ¦¬κ°€ ν•„μ”ν•λ‹¤.

**β”οΈ  μ£Όμ” κΈ°λ¥**

1. **Service Registry**
    - Service Registryλ” κ° μ„λΉ„μ¤μ μ„μΉ μ •λ³΄λ¥Ό μ €μ¥ν•κ³  κ΄€λ¦¬ν•λ” λ°μ΄ν„°λ² μ΄μ¤μ™€ κ°™μ€ μ—­ν• μ„ ν•λ‹¤.
    - **Eureka, Consul, Zookeeper** κ°™μ€ ν΄μ΄ λ€ν‘μ μΈ μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬ μ—­ν• μ„ μν–‰
    - μ„λΉ„μ¤κ°€ μ‹μ‘λλ©΄ μμ‹ μ„ μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬μ— λ“±λ΅ν•κ³ , μΆ…λ£λλ©΄ μ κ±° λλ‹¤.
2. **μ„λΉ„μ¤ λ“±λ΅**
    - μ„λΉ„μ¤κ°€ μ‹μ‘λ  λ•, μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬μ— μμ‹ μ IPμ™€ ν¬νΈ μ •λ³΄λ¥Ό λ“±λ΅ν•λ” κ³Όμ •
    - μ„λΉ„μ¤ λ“±λ΅μ€ μ„λΉ„μ¤κ°€ μ§μ ‘ ν•  μλ„ μκ³ , μ΄λ¥Ό λ€μ‹ ν•λ” λ΅λ“ λ°Έλ°μ„λ‚ ν”„λ΅μ‹κ°€ μ²λ¦¬ν•  μλ„ μλ‹¤.
3. **μ„λΉ„μ¤ μ΅°ν**
    - ν΄λΌμ΄μ–ΈνΈκ°€ λ‹¤λ¥Έ μ„λΉ„μ¤μ— μ”μ²­μ„ λ³΄λ‚΄κΈ° μ „μ—, μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬μ—μ„ ν•΄λ‹Ή μ„λΉ„μ¤μ μ„μΉ μ •λ³΄λ¥Ό μ΅°νν•λ” κ³Όμ •
    - μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬λ” μ„λΉ„μ¤κ°€ λ™μ‘ μ¤‘μΈμ§€ μ—¬λ¶€μ™€ κ΄€λ ¨λ μƒνƒ μ •λ³΄λ¥Ό κ΄€λ¦¬ν•λ©°, μ„λΉ„μ¤κ°€ μ¤‘λ‹¨λλ©΄ μ„λΉ„μ¤ λ©λ΅μ—μ„ μ κ±°ν•λ‹¤.

**β”οΈ  μ¥μ **

- **λ™μ  ν™•μ¥μ„±**
    - μ„λΉ„μ¤κ°€ λ™μ μΌλ΅ μƒμ„±λκ±°λ‚ μΆ…λ£λ  λ•, μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬κ°€ μ΄λ¥Ό μλ™μΌλ΅ λ°μν•λ―€λ΅, ν΄λ¬μ¤ν„° λ‚΄μ—μ„ μ‰½κ² ν™•μ¥ν•κ±°λ‚ μ¶•μ†ν•  μ μλ‹¤.
- **μ¥μ•  λ³µκµ¬**
    - μ„λΉ„μ¤κ°€ λ‹¤μ΄λκ±°λ‚ μ¤‘λ‹¨λλ©΄, μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬κ°€ ν•΄λ‹Ή μ„λΉ„μ¤λ¥Ό λ©λ΅μ—μ„ μ κ±°ν•μ—¬ μ”μ²­μ΄ μ‹¤ν¨ν•λ” κ²ƒμ„ λ°©μ§€ν•  μ μλ‹¤.
- **μ μ—°ν• λ΅λ“ λ°Έλ°μ‹±**
    - ν΄λΌμ΄μ–ΈνΈ λλ” λ΅λ“ λ°Έλ°μ„κ°€ μ—¬λ¬ μΈμ¤ν„΄μ¤ κ°„μ— λ΅λ“λ¥Ό λ¶„λ°°ν•μ—¬ νΈλν”½μ„ κ³ λ¥΄κ² λ¶„μ‚°ν•  μ μλ‹¤.
- **μ¤‘μ•™ν™”λ μ„λΉ„μ¤ κ΄€λ¦¬**
    - μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬λ¥Ό ν†µν•΄ μ„λΉ„μ¤ μ„μΉμ™€ μƒνƒλ¥Ό μ¤‘μ•™μ—μ„ κ΄€λ¦¬ν•  μ μμ–΄, λ„¤νΈμ›ν¬ ν™κ²½μ΄ λ™μ μ΄κ±°λ‚ λ³µμ΅ν• κ²½μ°μ—λ„ ν¨μ¨μ μΈ ν†µμ‹ μ΄ κ°€λ¥

β”οΈ  Service Discovery tool

- **Netflix Eureka**: Netflixκ°€ κ°λ°ν• μ¤ν” μ†μ¤ μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬λ΅, Spring Cloudμ—μ„ λ„λ¦¬ μ‚¬μ©
- **HashiCorp Consul**: μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬μ™€ ν•¨κ» μ„λΉ„μ¤ κµ¬μ„± κ΄€λ¦¬, λ³΄μ• κΈ°λ¥μ„ μ κ³µν•λ” ν΄.
- **Apache Zookeeper**: λ¶„μ‚° μ‹μ¤ν…μ„ μ„ν• μ¤‘μ•™ν™”λ μ„λΉ„μ¤ κ΄€λ¦¬ ν΄λ΅, μ„λΉ„μ¤ λ””μ¤μ»¤λ²„λ¦¬μ—λ„ μ‚¬μ©λ¨.

β”οΈ  μ„λΉ„μ¤ λ””μ¤μ»¤λ²„λ¦¬λ” λ‘ κ°€μ§€ ν¨ν„΄μ΄ μλ”λ° Client-side discoveryμ™€ Server-side discoveryκ°€ μλ‹¤. μ΄κ±΄ μ•„λμ— λ”°λ΅ μ •λ¦¬ν•  μμ •

## Client-side discovery vs **Server-side discovery**

Service discovery κΈ°λ¥μ„ κµ¬ν„ν•λ” λ°©λ²•μΌλ΅λ” ν¬κ² client discovery λ°©μ‹κ³Ό server side discovery λ°©μ‹μ΄ μλ‹¤.

### **Client-Side Discovery**

- **Client-Side Discovery**μ—μ„λ” **ν΄λΌμ΄μ–ΈνΈ**κ°€ μ§μ ‘ **μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬**μ—μ„ μ„λΉ„μ¤μ μ„μΉλ¥Ό μ΅°νν• ν›„, ν•΄λ‹Ή μ„λΉ„μ¤λ΅ μ”μ²­μ„ λ³΄λ‚Έλ‹¤.
- μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬λ” κ° μ„λΉ„μ¤μ μΈμ¤ν„΄μ¤μ™€ κ·Έ μ„μΉ(IP μ£Όμ†μ™€ ν¬νΈ)λ¥Ό μ•κ³  μλ” μ—­ν• μ„ ν•λ‹¤.

---

1. **λ™μ‘ λ°©μ‹:**
    1. μ„λΉ„μ¤ μΈμ¤ν„΄μ¤κ°€ μ‹μ‘λλ©΄ **μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬**μ— μμ‹ μ μ„μΉ(IP, ν¬νΈ)λ¥Ό λ“±λ΅.
    2. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λΉ„μ¤μ— μ”μ²­μ„ λ³΄λ‚΄λ ¤κ³  ν•  λ•, **μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬**μ—μ„ ν•΄λ‹Ή μ„λΉ„μ¤ μΈμ¤ν„΄μ¤μ μ„μΉλ¥Ό μ΅°ν.
    3. ν΄λΌμ΄μ–ΈνΈκ°€ μ„ νƒν• μ„λΉ„μ¤ μΈμ¤ν„΄μ¤μ— μ§μ ‘ μ”μ²­μ„ μ „μ†΅.
    4. ν΄λΌμ΄μ–ΈνΈκ°€ **λ΅λ“ λ°Έλ°μ‹±**κ³Ό **μ„λΉ„μ¤ μ„μΉ μ΅°ν**λ¥Ό μμ²΄μ μΌλ΅ μ²λ¦¬.
2. **ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λ””μ¤μ»¤λ²„λ¦¬μ κµ¬μ„± μ”μ†**
    - **Service Registry** : Eureka, Consul, Zookeeperμ™€ κ°™μ€ μ‹μ¤ν…μ΄ μ„λΉ„μ¤ λ“±λ΅ λ° μ΅°νλ¥Ό λ‹΄λ‹Ή.
    - **ν΄λΌμ΄μ–ΈνΈ**: μ§μ ‘ μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬μ—μ„ ν•„μ”ν• μ„λΉ„μ¤λ¥Ό μ°Ύκ³ , κ·Έ μ •λ³΄λ΅ μ”μ²­μ„ λ³΄λƒ„.
    - **Load Balancer**: ν΄λΌμ΄μ–ΈνΈμ—μ„ λ΅λ“ λ°Έλ°μ‹±μ„ μν–‰ (μ: Ribbon λΌμ΄λΈλ¬λ¦¬).
3. **μ**
    - Spring Cloudμ—μ„ **Netflix Eureka**λ¥Ό μ‚¬μ©ν• ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λ””μ¤μ»¤λ²„λ¦¬κ°€ λ€ν‘μ 
    - ν΄λΌμ΄μ–ΈνΈκ°€ Eureka μ„λ²„μ—μ„ λ‹¤λ¥Έ μ„λΉ„μ¤μ μ„μΉλ¥Ό μ΅°νν•κ³ , μ§μ ‘ μ„ νƒν• μΈμ¤ν„΄μ¤μ— μ”μ²­μ„ λ³΄λ‚΄λ” λ°©μ‹
        
        ```bash
        # ν΄λΌμ΄μ–ΈνΈλ” μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬(Eureka)μ—μ„ μ„λΉ„μ¤ μ„μΉλ¥Ό μ΅°ν ν›„ μ”μ²­ μ „μ†΅
        Client --> Service Registry --> Selected Service
        ```
        
4. **μ¥μ **
    - **λ‹¨μν• μΈν”„λΌ**
        - μ¶”κ°€μ μΈ λ΅λ“ λ°Έλ°μ„λ¥Ό κµ¬μ¶•ν•  ν•„μ”κ°€ μ—†λ‹¤.
    - **ν΄λΌμ΄μ–ΈνΈκ°€ λ΅λ“ λ°Έλ°μ‹±μ„ μ§μ ‘ μ²λ¦¬**
        - ν΄λΌμ΄μ–ΈνΈκ°€ μ–΄λ–¤ μ„λΉ„μ¤ μΈμ¤ν„΄μ¤μ— μ”μ²­ν• μ§€ κ²°μ •ν•λ―€λ΅, λ΅λ“ λ°Έλ°μ‹± μ „λµμ„ μ μ—°ν•κ² μ μ© κ°€λ¥.
5. **λ‹¨μ **
    - **ν΄λΌμ΄μ–ΈνΈ λ³µμ΅μ„± μ¦κ°€**
        - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λΉ„μ¤ μ„μΉ μ΅°νμ™€ λ΅λ“ λ°Έλ°μ‹±μ„ μ§μ ‘ μ²λ¦¬ν•΄μ•Ό ν•κΈ° λ•λ¬Έμ— ν΄λΌμ΄μ–ΈνΈ λ΅μ§μ΄ λ³µμ΅ν•΄μ§ μ μλ‹¤.
    - **ν΄λΌμ΄μ–ΈνΈ λ³€κ²½ ν•„μ”**
        - μ„λΉ„μ¤ λ””μ¤μ»¤λ²„λ¦¬λ‚ λ΅λ“ λ°Έλ°μ‹±μ— λ³€ν™”κ°€ μƒκΈ°λ©΄ λ¨λ“  ν΄λΌμ΄μ–ΈνΈμ— μ—…λ°μ΄νΈκ°€ ν•„μ”
        

### **Server-Side Discovery**

- **μ„λ²„ μ‚¬μ΄λ“ λ””μ¤μ»¤λ²„λ¦¬**μ—μ„λ” **ν΄λΌμ΄μ–ΈνΈ**κ°€ μ„λΉ„μ¤μ— μ”μ²­μ„ λ³΄λ‚Ό λ• **λ΅λ“ λ°Έλ°μ„**κ°€ μ¤‘κ°„μ—μ„ μ”μ²­μ„ λ°›μ•„ **μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬**λ¥Ό μ΅°νν•κ³ , μ μ ν• μ„λΉ„μ¤ μΈμ¤ν„΄μ¤μ— μ”μ²­μ„ μ „λ‹¬ν•λ‹¤.
- ν΄λΌμ΄μ–ΈνΈλ” λ΅λ“ λ°Έλ°μ„λ¥Ό ν†µν•΄ λ¨λ“  ν†µμ‹ μ„ ν•κ³ , μ§μ ‘ μ„λΉ„μ¤ μ„μΉλ¥Ό μ°Ύμ§€ μ•μ•„λ„ λλ‹¤.

---

1. **λ™μ‘ λ°©μ‹**
    1. μ„λΉ„μ¤ μΈμ¤ν„΄μ¤κ°€ μ‹μ‘λλ©΄ **μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬**μ— μμ‹ μ μ„μΉλ¥Ό λ“±λ΅.
    2. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λΉ„μ¤μ— μ”μ²­μ„ λ³΄λ‚΄λ©΄, μ”μ²­μ΄ **λ΅λ“ λ°Έλ°μ„**λ΅ μ „λ‹¬.
    3. λ΅λ“ λ°Έλ°μ„λ” **μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬**μ—μ„ μ„λΉ„μ¤ μ„μΉλ¥Ό μ΅°νν• ν›„, μ μ ν• μ„λΉ„μ¤ μΈμ¤ν„΄μ¤μ— μ”μ²­μ„ ν¬μ›λ”©.
    4. ν΄λΌμ΄μ–ΈνΈλ” μ‹¤μ  μ„λΉ„μ¤ μ„μΉλ¥Ό μ•μ§€ λ»ν• μ±„ λ΅λ“ λ°Έλ°μ„λ¥Ό ν†µν•΄ ν†µμ‹ .
2. **μ„λ²„ μ‚¬μ΄λ“ λ””μ¤μ»¤λ²„λ¦¬μ κµ¬μ„± μ”μ†**
    - **Service Registry**
        - Eureka, Consul, Zookeeper λ“±κ³Ό κ°™μ€ λ μ§€μ¤νΈλ¦¬κ°€ κ° μ„λΉ„μ¤μ μ„μΉ μ •λ³΄λ¥Ό κ΄€λ¦¬.
    - **Load Balancer**
        - HAProxy, AWS Elastic Load Balancer, NGINX λ“±κ³Ό κ°™μ€ λ΅λ“ λ°Έλ°μ„κ°€ ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ λ°›μ•„ μ μ ν• μ„λΉ„μ¤λ΅ μ „λ‹¬.
3. **μ**
    - AWSμ—μ„ μ κ³µν•λ” Elastic Load Balancer (ELB)λ‚ **NGINX**λ” μ„λ²„ μ‚¬μ΄λ“ λ””μ¤μ»¤λ²„λ¦¬μ λ€ν‘μ μΈ μ‚¬λ΅€
    - ν΄λΌμ΄μ–ΈνΈκ°€ λ΅λ“ λ°Έλ°μ„λ΅ μ”μ²­μ„ λ³΄λ‚΄λ©΄, λ΅λ“ λ°Έλ°μ„κ°€ μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬μ—μ„ μ„λΉ„μ¤λ¥Ό μ΅°νν•κ³  μ μ ν• μ„λΉ„μ¤ μΈμ¤ν„΄μ¤μ— μ”μ²­μ„ μ „λ‹¬ν•λ” λ°©μ‹
        
        ```bash
        # ν΄λΌμ΄μ–ΈνΈλ” λ΅λ“ λ°Έλ°μ„μ— μ”μ²­μ„ λ³΄λ‚΄κ³ , λ΅λ“ λ°Έλ°μ„κ°€ μ„λΉ„μ¤ λ μ§€μ¤νΈλ¦¬μ—μ„ μ΅°ν
        Client --> Load Balancer --> Service Registry --> Selected Service
        ```
        
4. **μ¥μ **
    - **ν΄λΌμ΄μ–ΈνΈ λ‹¨μν™”**
        - ν΄λΌμ΄μ–ΈνΈλ” λ΅λ“ λ°Έλ°μ„μ—κ² μ”μ²­λ§ λ³΄λ‚΄λ©΄ λλ―€λ΅, μ„λΉ„μ¤ μ„μΉ μ΅°νμ™€ λ΅λ“ λ°Έλ°μ‹±μ— λ€ν•΄ μ‹ κ²½ μ“Έ ν•„μ”κ°€ μ—†λ‹¤
    - **λ΅λ“ λ°Έλ°μ„μ—μ„ μ¤‘μ•™ν™”λ κ΄€λ¦¬**
        - λ΅λ“ λ°Έλ°μ„κ°€ λ¨λ“  μ„λΉ„μ¤ μ„μΉ μ΅°νμ™€ λ΅λ“ λ°Έλ°μ‹±μ„ κ΄€λ¦¬ν•λ―€λ΅, λ³€κ²½ μ‚¬ν•­μ„ μ‰½κ² μ μ© κ°€λ¥.
    - **ν™•μ¥μ„±**: μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈκ°€ μμ„ λ• λ΅λ“ λ°Έλ°μ„μ—μ„ μΌκ΄€λκ² μ”μ²­μ„ μ²λ¦¬ν•  μ μλ‹¤.
5. **λ‹¨μ **
    - **λ΅λ“ λ°Έλ°μ„ μ¶”κ°€ ν•„μ”**
        - λ΅λ“ λ°Έλ°μ„λ¥Ό λ³„λ„λ΅ μ„¤μ •ν•κ³  κ΄€λ¦¬ν•΄μ•Ό ν•λ―€λ΅ μΈν”„λΌκ°€ λ³µμ΅ν•΄μ§ μ μμ–΄.
    - **μ¶”κ°€ λ„¤νΈμ›ν¬ ν™‰**
        - ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ΄ λ΅λ“ λ°Έλ°μ„λ¥Ό κ±°μ³μ•Ό ν•λ―€λ΅, λ„¤νΈμ›ν¬ μ§€μ—°μ΄ μƒκΈΈ μ μμ–΄.

---

μ°Έκ³  μ‚¬μ΄νΈ

[https://themapisto.tistory.com/23](https://themapisto.tistory.com/23)

https://themapisto.tistory.com/186


<br>
<br><br><br><br><br>